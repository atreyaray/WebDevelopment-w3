{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/notes.js","App.js","index.js"],"names":["Filter","props","console","log","newFilter","handleFilterChange","value","onChange","PersonForm","handleSubmit","newName","handleInputChange","newNumber","handleNumberChange","onSubmit","type","Number","person","handleDeletion","name","number","id","onClick","Persons","persons","personsToShow","length","filter","toLowerCase","slice","map","key","baseUrl","request","axios","post","headers","then","response","data","get","delete","object","put","Notification","message","color","error","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","setColor","useEffect","personService","concat","event","val","target","preventDefault","nameObject","includes","window","alert","existingPerson","p","newPersons","newPerson","setTimeout","catch","Math","floor","error_note","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0488ba2a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    console.log(props, )\n    const {newFilter,handleFilterChange} = props\n    return(\n        <>\n            filter shown with <input value={newFilter} onChange={handleFilterChange} />\n        </>  \n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({handleSubmit, newName, handleInputChange, newNumber, handleNumberChange}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input value={newName} onChange={handleInputChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>    \n        \n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Number = ({ person , handleDeletion}) => {\n    const {name,number,id} = person\n    return (\n        <li>{name} {number}<button onClick={()=> handleDeletion(id)}>delete</button></li>\n    )\n}\n\n\nconst Persons = ({ newFilter, persons, handleDeletion }) => {\n    const personsToShow =\n        (newFilter.length === 0)\n            ? persons\n            : persons.filter(person => person.name.toLowerCase().slice(0, newFilter.length) === newFilter)\n\n    return(\n        <div>\n            <ul>\n                {personsToShow.map(person =>{\n                    return(\n                        <>\n                        <Number key={person.name} person={person} handleDeletion={handleDeletion} />\n                        </>)\n                    })\n                }\n\n            </ul>\n        </div>\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst create = (name,number) => {\n    console.log('inside notes services',name,number)\n    const request = axios.post(baseUrl, {name,number}, { headers: { 'Content-Type': 'application/json'}})\n    console.log(request,)\n    return request.then(response =>response.data)\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst getOne = (id) => {\n    const request = axios.get(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request\n}\n\nconst update = (id,object) => {\n    const request = axios.put(`${baseUrl}/${id}`, object)\n    return request.then(request => request.data)\n}\n\nexport default {create, getAll,remove,update, getOne}","import React, { useState,useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/notes'\n\n\nconst Notification = ({message,color}) => {\n    console.log('color', color)\n    var error = {\n        color: color,\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    if (message === null) {\n        return null\n    }\n    return (\n        <div style={error}>\n            {message}\n        </div>\n    )\n}\n\n\nconst App = () => {\n    //state variables\n    /*\n    persons : hard coded initially, stores the names of all contacts\n    newName : new name inputted \n    newNumber : new number inputted\n    newFilter : new filter for searching\n    */\n    const [persons, setPersons] = useState([\n        // { name: 'Arto Hellas', number: '040-123456' , id:0},\n        // { name: 'Ada Lovelace', number: '39-44-5323523', id:0 },\n        // { name: 'Dan Abramov', number: '12-43-234345', id:0 },\n        // { name: 'Mary Poppendieck', number: '39-23-6423122',id:0 }\n        // { name:'', number:''}\n    ])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [color, setColor] = useState('green')\n    // const [names, setNames] = useState([])\n\n    //hook to pull from the website \n    const hook = () => {\n        console.log('effect',)\n\n        personService\n            .getAll()\n            .then(data => {\n                const newPersons = persons.concat([data])\n                console.log('data',data)\n                setPersons(persons.concat(data))\n            })\n    }\n    useEffect(hook,[])\n\n\n    const handleInputChange = (event) => {\n        const val = event.target.value\n        console.log(val)\n        setNewName(val)\n    }\n\n    const handleNumberChange = (event) => {\n        const val = event.target.value\n        console.log(val)\n        setNewNumber(val)\n    }\n    \n    const handleFilterChange = (event) => {\n        const val = event.target.value\n        console.log(val)\n        setNewFilter(val)\n    }\n\n    const handleDeletion = (id) =>{\n        if(window.confirm(`Delete ${persons.filter(p=>p.id === id)[0].name}?`)){\n            console.log('deletion id',id)\n            personService\n                .remove(id)\n            const newPersons = persons.filter(p => p.id !== id)\n            setPersons(newPersons)\n        }\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault()\n        console.log(persons,newName)\n        const nameObject = { name : newName, number: newNumber}\n        console.log(persons.includes( nameObject))\n        const idx = persons.map(person=>person.name).includes(newName)\n        if (idx){\n            personService\n                .getOne(persons.filter(person=> person.name === newName)[0].id)\n                .then(data => {\n                    window.alert(`${newName} is already added to phonebook, replace the old number with a new one?`)\n                    const existingPerson = persons.filter(p => p.name === newName)[0]\n                    const newPersons = persons.filter(p => p.name !== newName)\n                    const newPerson = { name: newName, number: newNumber, id: existingPerson.id }\n                    console.log('existingPerson', existingPerson)\n                    console.log('newPerson', newPerson)\n                    personService\n                        .update(existingPerson.id, newPerson)\n                        .then(data => console.log('updated', data))\n                    setPersons(newPersons.concat([newPerson]))\n                    setColor('green')\n                    setErrorMessage(`Information of ${newName} updated`)\n                    setTimeout(() => setErrorMessage(null), 5000)\n                })\n                .catch(error => {\n                    setColor('red')\n                    setErrorMessage(`Information of ${newName} has already been removed from the server`)\n                    setTimeout(()=>setErrorMessage(null),5000)\n                })\n            setNewName('')\n            setNewNumber('')\n        }\n        else{\n            console.log('creating',)\n            personService\n                .create(newName,newNumber, Math.floor,)\n                .then( data =>{\n                    console.log('data',data)\n                    setColor('green')\n                    setErrorMessage(`Added ${newName}`)\n                    console.log('error message',errorMessage)\n                    setNewName('')\n                    setNewNumber('')\n                    setPersons(persons.concat([data]))\n                    setTimeout(() => setErrorMessage(null),5000)\n                    console.log('error message', errorMessage)\n                })\n                .catch(error => {\n                    const error_note = error.response.data.error\n                    console.log('error caught',error_note)\n                    setColor('red')\n                    setErrorMessage(error_note)\n                    setTimeout(() => setErrorMessage(null), 5000)\n                    setNewName('')\n                    setNewNumber('')\n                })\n        }\n    }\n\n    return (\n        <div>\n            {console.log('persons',persons)}\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} color={color}/>\n            <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n            <h3>add a new</h3>\n            {console.log('reaches h3')}\n            <PersonForm \n                handleSubmit = {handleSubmit}\n                newName = {newName}\n                handleInputChange = {handleInputChange}\n                newNumber = {newNumber}\n                handleNumberChange = {handleNumberChange}/>\n                \n            <h2>Numbers</h2>\n            <Persons newFilter={newFilter} persons={persons} handleDeletion={handleDeletion} />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}